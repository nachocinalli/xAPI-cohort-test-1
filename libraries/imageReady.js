!function(e){function t(t){if(t===undefined)throw"Must specify a css attribute name";var r,a,i,n=this.getElementsByTagName("*"),o=[];if(e("body")[0].currentStyle)for(var u=(a=(i=t.replace(/-/g," "),i.replace(/\w\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})).replace(/ /g,"")).substr(0,1).toLowerCase()+a.substr(1),l=0,d=n.length;l<d;l++){"none"==(r=n[l]).currentStyle[u]||o.push(r)}else if(window.getComputedStyle)for(l=0,d=n.length;l<d;l++){r=n[l],"none"==document.defaultView.getComputedStyle(r,null).getPropertyValue(t)||o.push(r)}return o}e.fn.imageready||(e.fn.imageready=function(r,a){(a=a||{}).allowTimeout===undefined&&(a.allowTimeout=e.fn.imageready.allowTimeout,a.timeoutDuration=e.fn.imageready.timeoutDuration);var i,n=function(r){var a=r.find("img").add(r.filter("img"));if(r.each(function(){e(t.call(this,"background-image")).each(function(){var t=e(new Image),r=e(this).css("background-image"),i=/url\(([^)]*)\)/g.exec(r);if(null!==i){var n=i[1].replace(/[\"\']/g,"");t.attr("src",n),a=a.add(t)}})}),a.loaded=0,0!==a.length)return a}(this);if(!n)return r();function o(){clearTimeout(i);var t=[];return n.each(function(){if(!this._isImageReadyComplete){t.push(this);var r=e(this);console.error("image not loaded in time",r.attr("src"))}}),r(e(t))}function u(e){if(clearTimeout(i),e&&e.target&&(n.loaded++,e.currentTarget._isImageReadyComplete=!0),n.length<=n.loaded)return r();a.allowTimeout&&(i=setTimeout(o,a.timeoutDuration))}if(n.each(function(){var t,r,a,i,o,l,d,c=e(this);if(r=(t=c)[0],a=!t.attr("src"),i=r.complete,o=4===r.readyState,l=t.height()>0,d=r.naturalHeight===undefined||r.naturalHeight>0,a||i||o||l&&d)return n.loaded++;c.one("load",u),c.one("error",u),c.attr("src",c.attr("src"))}),n.length<=n.loaded)return u();a.allowTimeout&&(i=setTimeout(o,a.timeoutDuration))},e.fn.imageready.timeoutDuration=1,e.fn.imageready.allowTimeout=!1)}(jQuery);